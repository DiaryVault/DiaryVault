<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiaryVault - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Satisfy&display=swap" rel="stylesheet">
    <style>
        /* Enhanced Core Styling */
        .diary-font {
            font-family: 'Playfair Display', serif;
            letter-spacing: -0.02em;
        }

        .handwritten {
            font-family: 'Satisfy', cursive;
        }

        /* Enhanced Glass Effects with Mobile Optimization */
        .glass-effect {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .glass-effect:hover {
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        /* Mobile-First Gradient Buttons */
        .btn-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            min-height: 44px; /* Touch-friendly minimum */
        }

        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-gradient:hover::before {
            left: 100%;
        }

        .btn-gradient:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        /* Enhanced Mobile Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.98);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.5s ease forwards;
        }

        .animate-slide-in-right {
            animation: slideInRight 0.5s ease forwards;
        }

        .animate-scale-in {
            animation: scaleIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        .animation-delay-100 { animation-delay: 100ms; }
        .animation-delay-200 { animation-delay: 200ms; }
        .animation-delay-300 { animation-delay: 300ms; }
        .animation-delay-400 { animation-delay: 400ms; }
        .animation-delay-500 { animation-delay: 500ms; }

        /* Mobile-Optimized Stats Cards */
        .stats-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 80px;
        }

        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient, linear-gradient(90deg, #667eea, #764ba2));
            border-radius: 16px 16px 0 0;
        }

        .stats-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .stats-card.entries { --gradient: linear-gradient(90deg, #667eea, #764ba2); }
        .stats-card.streak { --gradient: linear-gradient(90deg, #10b981, #059669); }
        .stats-card.biography { --gradient: linear-gradient(90deg, #f59e0b, #d97706); }

        /* Mobile-First Journal Form */
        .journal-form-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(30px);
            border-radius: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .journal-form-container:focus-within {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1), 0 10px 30px rgba(0, 0, 0, 0.12);
        }

        .journal-textarea {
            background: transparent;
            border: none;
            resize: none;
            outline: none;
            font-family: 'Satisfy', cursive;
            font-size: 1rem;
            line-height: 1.6;
            color: #374151;
            min-height: 120px;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .journal-textarea:focus {
            color: #1f2937;
        }

        .journal-textarea::placeholder {
            color: #9ca3af;
            opacity: 0.8;
        }

        /* Mobile-Optimized Suggestion Pills */
        .suggestion-pill {
            background: rgba(255, 255, 255, 0.8);
            border: 1.5px solid rgba(102, 126, 234, 0.2);
            border-radius: 20px;
            padding: 8px 14px;
            font-size: 0.75rem;
            font-weight: 500;
            color: #4b5563;
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            display: inline-block;
            margin: 2px;
            min-height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .suggestion-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .suggestion-pill:hover::before,
        .suggestion-pill:active::before {
            opacity: 0.1;
        }

        .suggestion-pill:hover,
        .suggestion-pill:active {
            transform: translateY(-1px);
            border-color: #667eea;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.15);
        }

        /* Mobile-Optimized Entry Cards */
        .entry-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative;
        }

        .entry-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .entry-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--mood-color, linear-gradient(135deg, #667eea, #764ba2));
        }

        /* Mood-based colors for entry cards */
        .entry-card.mood-happy { --mood-color: linear-gradient(135deg, #10b981, #059669); }
        .entry-card.mood-content { --mood-color: linear-gradient(135deg, #3b82f6, #1d4ed8); }
        .entry-card.mood-excited { --mood-color: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .entry-card.mood-neutral { --mood-color: linear-gradient(135deg, #6b7280, #4b5563); }
        .entry-card.mood-anxious { --mood-color: linear-gradient(135deg, #f59e0b, #d97706); }
        .entry-card.mood-sad { --mood-color: linear-gradient(135deg, #ef4444, #dc2626); }

        /* Mobile-Optimized Biography Preview */
        .biography-preview {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.05) 100%);
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: 16px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .biography-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
            height: 8px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f59e0b, #d97706);
            border-radius: 8px;
            transition: width 2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Mobile-Optimized Loading States */
        .loading-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            border: 2px dashed rgba(156, 163, 175, 0.3);
        }

        .loading-spinner {
            width: 2.5rem;
            height: 2.5rem;
            border: 3px solid rgba(102, 126, 234, 0.2);
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mobile-Optimized Result Preview */
        .result-preview {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid rgba(102, 126, 234, 0.2);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.1);
        }

        .result-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.05) 100%);
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
        }

        .result-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.8) 100%);
        }

        /* Mobile-Optimized Book Styling */
        .book {
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
            cursor: pointer;
            height: 180px;
        }

        .book:hover {
            transform: translateY(-3px) scale(1.02);
            z-index: 10;
        }

        .book-spine {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            width: 20px;
            background: linear-gradient(to right, rgba(0,0,0,0.2), rgba(0,0,0,0.05));
            border-radius: 0 0 0 8px;
        }

        .book-content {
            position: relative;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            height: 100%;
        }

        /* Mobile-Optimized Timeline */
        .timeline-container {
            position: relative;
            padding-left: 1.5rem;
        }

        .timeline-line {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #667eea 0%, #764ba2 100%);
            opacity: 0.3;
        }

        .timeline-entry {
            position: relative;
            margin-bottom: 1rem;
        }

        .timeline-entry::before {
            content: '';
            position: absolute;
            left: -1.6rem;
            top: 0.5rem;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid white;
            z-index: 1;
            box-shadow: 0 1px 4px rgba(102, 126, 234, 0.3);
        }

        /* Mobile-Optimized Floating Action Button */
        .floating-action {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .floating-action:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5);
        }

        /* Success notification styles */
        .success-notification {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Mobile-First Responsive Design */
        @media (max-width: 640px) {
            .glass-effect {
                margin-bottom: 1rem;
                border-radius: 16px;
                padding: 1rem;
            }

            .stats-card {
                padding: 0.75rem;
                min-height: 70px;
            }

            .journal-form-container {
                border-radius: 16px;
            }

            .journal-textarea {
                font-size: 0.9rem;
                min-height: 100px;
                padding: 1rem;
            }

            .suggestion-pill {
                font-size: 0.7rem;
                padding: 6px 10px;
                margin: 1px;
                min-height: 32px;
                border-radius: 16px;
            }

            .book {
                height: 160px;
            }

            .book-spine {
                width: 16px;
            }

            .timeline-container {
                padding-left: 1rem;
            }

            .timeline-entry::before {
                left: -1.3rem;
                width: 8px;
                height: 8px;
            }

            .biography-preview {
                padding: 1rem;
                border-radius: 12px;
            }

            .floating-action {
                width: 50px;
                height: 50px;
                bottom: 0.75rem;
                right: 0.75rem;
            }

            /* Mobile-specific text sizing */
            .diary-font {
                letter-spacing: -0.01em;
            }

            /* Better touch targets */
            .btn-gradient {
                min-height: 48px;
                font-size: 0.9rem;
            }

            /* Improved mobile spacing */
            .entry-card {
                padding: 0.75rem;
            }

            /* Mobile-optimized progress bar */
            .progress-bar {
                height: 6px;
                border-radius: 6px;
            }

            .progress-fill {
                border-radius: 6px;
            }
        }

        /* Extra small devices */
        @media (max-width: 480px) {
            .glass-effect {
                padding: 0.75rem;
                border-radius: 12px;
            }

            .stats-card {
                padding: 0.5rem;
                min-height: 60px;
                border-radius: 12px;
            }

            .journal-textarea {
                font-size: 0.85rem;
                min-height: 90px;
                padding: 0.75rem;
            }

            .suggestion-pill {
                font-size: 0.65rem;
                padding: 4px 8px;
                min-height: 28px;
                border-radius: 14px;
            }

            .book {
                height: 140px;
            }

            .book-spine {
                width: 12px;
            }

            .entry-card {
                padding: 0.5rem;
                border-radius: 8px;
            }

            .biography-preview {
                padding: 0.75rem;
                border-radius: 10px;
            }

            .floating-action {
                width: 44px;
                height: 44px;
                bottom: 0.5rem;
                right: 0.5rem;
            }

            /* Very small text adjustments */
            .btn-gradient {
                font-size: 0.8rem;
                min-height: 44px;
            }
        }

        /* Landscape orientation adjustments */
        @media (max-height: 500px) and (orientation: landscape) {
            .floating-action {
                bottom: 0.5rem;
                right: 0.5rem;
                width: 40px;
                height: 40px;
            }

            .journal-textarea {
                min-height: 80px;
            }

            .book {
                height: 120px;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            .glass-effect {
                background: rgba(31, 41, 55, 0.8);
                border: 1px solid rgba(75, 85, 99, 0.3);
            }

            .stats-card {
                background: rgba(31, 41, 55, 0.9);
                border: 1px solid rgba(75, 85, 99, 0.3);
            }

            .journal-form-container {
                background: rgba(31, 41, 55, 0.95);
                border: 2px solid rgba(75, 85, 99, 0.3);
            }

            .journal-textarea {
                color: #f9fafb;
            }

            .journal-textarea::placeholder {
                color: #9ca3af;
            }

            .entry-card {
                background: rgba(31, 41, 55, 0.9);
                border: 1px solid rgba(75, 85, 99, 0.3);
            }

            .book-content {
                background: #374151;
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            .floating-action:hover {
                transform: none;
            }

            .glass-effect:hover {
                transform: none;
            }

            .book:hover {
                transform: none;
            }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
            .glass-effect {
                background: rgba(255, 255, 255, 0.95);
                border: 2px solid #333;
            }

            .btn-gradient {
                background: #0066cc;
                border: 2px solid #004499;
            }

            .suggestion-pill {
                border: 2px solid #667eea;
            }
        }

        /* Print styles */
        @media print {
            .floating-action,
            .glass-effect:hover,
            .btn-gradient::before {
                display: none !important;
            }

            .glass-effect {
                background: white;
                box-shadow: none;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen">
    <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8">
        <!-- Success Message -->
        <div id="entrySuccess" class="mb-4 sm:mb-6 success-notification scale-in hidden animate-fade-in-up">
            <div class="flex gap-2 sm:gap-3 items-start">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 text-white mt-0.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <div class="flex-1 min-w-0">
                    <h4 class="font-medium text-white text-sm sm:text-base">Journal Entry Saved!</h4>
                    <p class="text-xs sm:text-sm text-white/90">Your journal entry has been successfully added to your collection.</p>
                </div>
                <button class="flex-shrink-0" onclick="document.getElementById('entrySuccess').classList.add('hidden')">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 text-white/80 hover:text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Welcome & Stats Section -->
        <div class="glass-effect rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 shadow-lg mb-6 sm:mb-8 animate-fade-in-up">
            <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 sm:gap-6">
                <div class="flex-1">
                    <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold diary-font mb-2 bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent">
                        Welcome back, John
                    </h2>
                    <p class="text-gray-600 text-sm sm:text-base lg:text-lg">Continue your journey or explore past memories</p>
                </div>

                <!-- Enhanced Stats Grid -->
                <div class="grid grid-cols-3 gap-2 sm:gap-4 w-full lg:w-auto">
                    <div class="stats-card entries animate-scale-in animation-delay-100">
                        <div class="text-center">
                            <div class="text-lg sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-1">42</div>
                            <div class="text-xs sm:text-sm text-gray-600 font-medium">Entries</div>
                        </div>
                    </div>
                    <div class="stats-card streak animate-scale-in animation-delay-200">
                        <div class="text-center">
                            <div class="text-lg sm:text-2xl lg:text-3xl font-bold text-emerald-600 mb-1">7</div>
                            <div class="text-xs sm:text-sm text-gray-600 font-medium">Day Streak</div>
                        </div>
                    </div>
                    <div class="stats-card biography animate-scale-in animation-delay-300">
                        <div class="text-center">
                            <div class="text-lg sm:text-2xl lg:text-3xl font-bold text-amber-600 mb-1">73%</div>
                            <div class="text-xs sm:text-sm text-gray-600 font-medium">Biography</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="grid grid-cols-3 gap-2 sm:gap-4 mb-6 sm:mb-8 animate-fade-in-up animation-delay-200">
            <a href="#" class="glass-effect rounded-lg sm:rounded-xl p-3 sm:p-4 lg:p-6 shadow-lg hover:shadow-xl transition flex flex-col items-center justify-center gap-2 sm:gap-3 group">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 transition-transform">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                </div>
                <div class="text-center">
                    <h3 class="font-semibold text-gray-800 text-xs sm:text-sm lg:text-base group-hover:text-blue-600 transition-colors">New Entry</h3>
                    <p class="text-xs text-gray-600 hidden sm:block">Record today</p>
                </div>
            </a>

            <a href="#" class="glass-effect rounded-lg sm:rounded-xl p-3 sm:p-4 lg:p-6 shadow-lg hover:shadow-xl transition flex flex-col items-center justify-center gap-2 sm:gap-3 group">
                <div class="bg-gradient-to-br from-amber-500 to-amber-600 p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 transition-transform">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                </div>
                <div class="text-center">
                    <h3 class="font-semibold text-gray-800 text-xs sm:text-sm lg:text-base group-hover:text-amber-600 transition-colors">Biography</h3>
                    <p class="text-xs text-gray-600 hidden sm:block">Life story</p>
                </div>
            </a>

            <a href="#" class="glass-effect rounded-lg sm:rounded-xl p-3 sm:p-4 lg:p-6 shadow-lg hover:shadow-xl transition flex flex-col items-center justify-center gap-2 sm:gap-3 group">
                <div class="bg-gradient-to-br from-emerald-500 to-emerald-600 p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-lg group-hover:scale-110 transition-transform">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </div>
                <div class="text-center">
                    <h3 class="font-semibold text-gray-800 text-xs sm:text-sm lg:text-base group-hover:text-emerald-600 transition-colors">Insights</h3>
                    <p class="text-xs text-gray-600 hidden sm:block">Analytics</p>
                </div>
            </a>
        </div>

        <!-- Enhanced Journal Entry Form -->
        <div class="mb-6 sm:mb-8 journal-form-container animate-fade-in-up animation-delay-300">
            <div class="p-4 sm:p-6 border-b border-gray-100/50">
                <h3 class="text-lg sm:text-xl font-bold diary-font flex items-center gap-2 sm:gap-3 text-gray-800">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <span class="hidden sm:inline">Quick Journal Entry</span>
                    <span class="sm:hidden">Quick Entry</span>
                </h3>
                <p class="text-gray-600 mt-2 text-sm sm:text-base">Share your thoughts directly from your dashboard</p>
            </div>

            <form id="dashboardJournalForm" class="w-full relative">
                <div class="p-4 sm:p-6">
                    <!-- Character counter -->
                    <div class="flex justify-between items-center mb-3 sm:mb-4">
                        <div class="text-xs font-medium bg-gray-100/80 backdrop-blur-sm px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-gray-600 shadow-sm border border-gray-200/50">
                            <span id="charCount">0</span> characters
                        </div>
                    </div>

                    <!-- Enhanced Text area -->
                    <textarea
                        id="journalInput"
                        name="journal_content"
                        class="journal-textarea w-full border-0 rounded-lg sm:rounded-xl focus:ring-0"
                        placeholder="I had breakfast at 8am, went for a run, had a meeting with my team at 11am..."
                        oninput="countChars()"></textarea>

                    <!-- Enhanced Suggestions -->
                    <div class="mt-4 sm:mt-6">
                        <div class="text-xs sm:text-sm font-semibold text-gray-700 mb-2 sm:mb-3 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                            </svg>
                            Suggested topics:
                        </div>
                        <div class="flex flex-wrap gap-1 sm:gap-2">
                            <button type="button" onclick="addSuggestion('Today I accomplished')" class="suggestion-pill">Today I accomplished</button>
                            <button type="button" onclick="addSuggestion('I felt happy when')" class="suggestion-pill">I felt happy when</button>
                            <button type="button" onclick="addSuggestion('I learned that')" class="suggestion-pill">I learned that</button>
                            <button type="button" onclick="addSuggestion('I met with')" class="suggestion-pill">I met with</button>
                            <button type="button" onclick="addSuggestion('I\'m grateful for')" class="suggestion-pill">I'm grateful for</button>
                            <button type="button" onclick="addSuggestion('The highlight of my day was')" class="suggestion-pill">The highlight</button>
                        </div>
                    </div>

                    <!-- Enhanced Personalization options -->
                    <div class="mt-4 sm:mt-6 p-3 sm:p-4 bg-gray-50/80 backdrop-blur-sm border border-gray-200/50 rounded-lg sm:rounded-xl">
                        <div class="flex items-start">
                            <input type="checkbox" id="personalizationToggle" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5 flex-shrink-0">
                            <label for="personalizationToggle" class="ml-3 text-xs sm:text-sm font-medium text-gray-700 flex flex-col gap-1">
                                <span>Use personalized style</span>
                                <span class="text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full inline-block self-start">(based on your preferences)</span>
                                <a href="#" class="text-xs text-blue-700 hover:text-blue-900 underline">
                                    Edit preferences
                                </a>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Action buttons -->
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-4 border-t border-gray-100/50">
                    <div class="text-xs sm:text-sm text-gray-600 flex items-center gap-2 sm:gap-3 order-2 sm:order-1">
                        <div class="w-6 h-6 sm:w-8 sm:h-8 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-200 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 text-purple-600" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <span class="font-medium hidden sm:inline">AI-powered journal generation</span>
                        <span class="font-medium sm:hidden">AI-powered</span>
                    </div>
                    <button type="button" id="generateButton" onclick="generateEntry()" class="btn-gradient px-6 sm:px-8 py-2.5 sm:py-3 rounded-full font-semibold flex items-center justify-center gap-2 sm:gap-3 shadow-lg min-w-[140px] sm:min-w-[160px] order-1 sm:order-2 w-full sm:w-auto">
                        <span class="text-sm sm:text-base">Generate Entry</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                    </button>
                </div>
            </form>

            <!-- Enhanced Loading indicator -->
            <div id="loadingIndicator" class="p-6 sm:p-8 hidden">
                <div class="loading-state">
                    <div class="loading-spinner"></div>
                    <p class="text-base sm:text-lg font-medium text-gray-700 handwritten mb-2">Crafting your journal entry<span class="loading-dots">...</span></p>
                    <p class="text-xs sm:text-sm text-gray-500">This takes just a moment</p>
                </div>
            </div>

            <!-- Enhanced Results preview -->
            <div id="resultPreview" class="hidden result-preview">
                <div class="result-header p-4 sm:p-6 flex items-center justify-between">
                    <div>
                        <h3 class="font-bold text-gray-800 text-base sm:text-lg mb-1 diary-font">Your Journal Entry</h3>
                        <p class="text-gray-600 text-xs sm:text-sm">Generated based on your day</p>
                    </div>
                    <button class="w-8 h-8 sm:w-10 sm:h-10 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center text-gray-600 hover:bg-white hover:text-blue-600 transition-all shadow-sm border border-gray-200 flex-shrink-0" onclick="editJournalEntry()">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                        </svg>
                    </button>
                </div>

                <div class="result-content p-4 sm:p-6">
                    <div id="journalEntry" class="handwritten text-base sm:text-lg text-gray-800 leading-relaxed">
                        <!-- AI-generated entry will appear here -->
                    </div>
                </div>

                <!-- Enhanced Result actions -->
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-4 sm:p-6 flex flex-col gap-3 sm:flex-row sm:justify-between sm:items-center sm:gap-4 border-t border-gray-100/50">
                    <div class="text-gray-700 text-xs sm:text-sm diary-font flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 text-amber-600 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                        </svg>
                        <span class="font-medium">Title:</span>
                        <span id="entryTitle" class="truncate">My Day - Today</span>
                    </div>
                    <div class="flex flex-wrap gap-2 sm:gap-3 justify-end">
                        <button type="button" onclick="editJournalEntry()" class="px-3 sm:px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 rounded-full text-xs sm:text-sm transition shadow-sm flex items-center gap-1 sm:gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                            </svg>
                            Edit
                        </button>
                        <button type="button" onclick="restartEntry()" class="px-3 sm:px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 rounded-full text-xs sm:text-sm transition shadow-sm flex items-center gap-1 sm:gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                            Try Again
                        </button>
                        <button id="saveDashboardButton" class="btn-gradient px-4 sm:px-6 py-2 rounded-full font-semibold shadow-lg flex items-center gap-1 sm:gap-2 text-xs sm:text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            Save Entry
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Recent Entries Section -->
        <div class="mb-6 sm:mb-8 animate-fade-in-up animation-delay-400">
            <div class="flex justify-between items-center mb-4 sm:mb-6">
                <h3 class="text-lg sm:text-xl font-semibold diary-font text-gray-800 flex items-center gap-2 sm:gap-3">
                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <span class="hidden sm:inline">Recent Entries</span>
                    <span class="sm:hidden">Recent</span>
                </h3>
                <a href="#" class="text-blue-600 hover:text-blue-700 font-medium text-xs sm:text-sm flex items-center gap-1 sm:gap-2 bg-blue-50 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full hover:bg-blue-100 transition-all">
                    <span>View all</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </a>
            </div>

            <div class="glass-effect rounded-xl sm:rounded-2xl shadow-lg overflow-hidden">
                <div class="timeline-container p-4 sm:p-6">
                    <div class="timeline-line"></div>

                    <!-- Sample Entry 1 -->
                    <div class="timeline-entry">
                        <div class="entry-card mood-happy p-3 sm:p-4 hover:shadow-lg transition-all">
                            <div class="flex justify-between items-start gap-3 mb-2 sm:mb-3">
                                <div class="flex-1 min-w-0">
                                    <h4 class="font-semibold text-gray-800 text-sm sm:text-base truncate">A Great Day at the Office</h4>
                                    <p class="text-xs text-gray-500 mt-1">June 9, 2025 at 2:30 PM</p>
                                </div>
                                <div class="flex gap-1 sm:gap-2 flex-wrap flex-shrink-0">
                                    <span class="bg-gradient-to-r from-green-100 to-green-200 text-green-700 text-xs px-2 py-0.5 sm:px-3 sm:py-1 rounded-full font-medium border border-green-200/50">happy</span>
                                    <span class="bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 text-xs px-2 py-0.5 sm:px-3 sm:py-1 rounded-full border border-gray-200/50">work</span>
                                </div>
                            </div>
                            <p class="text-gray-700 diary-font text-xs sm:text-sm leading-relaxed mb-2 sm:mb-3">Today was incredibly productive. I finished the quarterly report early and got positive feedback from my manager. The team lunch was also great for building connections...</p>
                            <div class="flex justify-end">
                                <a href="#" class="text-blue-600 text-xs sm:text-sm hover:text-blue-700 font-medium flex items-center gap-1 bg-blue-50 px-2 sm:px-3 py-1 rounded-full hover:bg-blue-100 transition-all">
                                    <span>Read more</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Sample Entry 2 -->
                    <div class="timeline-entry">
                        <div class="entry-card mood-content p-3 sm:p-4 hover:shadow-lg transition-all">
                            <div class="flex justify-between items-start gap-3 mb-2 sm:mb-3">
                                <div class="flex-1 min-w-0">
                                    <h4 class="font-semibold text-gray-800 text-sm sm:text-base truncate">Morning Reflections</h4>
                                    <p class="text-xs text-gray-500 mt-1">June 8, 2025 at 8:15 AM</p>
                                </div>
                                <div class="flex gap-1 sm:gap-2 flex-wrap flex-shrink-0">
                                    <span class="bg-gradient-to-r from-blue-100 to-blue-200 text-blue-700 text-xs px-2 py-0.5 sm:px-3 sm:py-1 rounded-full font-medium border border-blue-200/50">content</span>
                                    <span class="bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 text-xs px-2 py-0.5 sm:px-3 sm:py-1 rounded-full border border-gray-200/50">morning</span>
                                </div>
                            </div>
                            <p class="text-gray-700 diary-font text-xs sm:text-sm leading-relaxed mb-2 sm:mb-3">Started the day with meditation and a cup of coffee. There's something peaceful about the early morning silence. I'm grateful for these quiet moments before the day begins...</p>
                            <div class="flex justify-end">
                                <a href="#" class="text-blue-600 text-xs sm:text-sm hover:text-blue-700 font-medium flex items-center gap-1 bg-blue-50 px-2 sm:px-3 py-1 rounded-full hover:bg-blue-100 transition-all">
                                    <span>Read more</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Sample Entry 3 -->
                    <div class="timeline-entry">
                        <div class="entry-card mood-excited p-3 sm:p-4 hover:shadow-lg transition-all">
                            <div class="flex justify-between items-start gap-3 mb-2 sm:mb-3">
                                <div class="flex-1 min-w-0">
                                    <h4 class="font-semibold text-gray-800 text-sm sm:text-base truncate">Weekend Adventures</h4>
                                    <p class="text-xs text-gray-500 mt-1">June 7, 2025 at 6:45 PM</p>
                                </div>
                                <div class="flex gap-1 sm:gap-2 flex-wrap flex-shrink-0">
                                    <span class="bg-gradient-to-r from-purple-100 to-purple-200 text-purple-700 text-xs px-2 py-0.5 sm:px-3 sm:py-1 rounded-full font-medium border border-purple-200/50">excited</span>
                                    <span class="bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 text-xs px-2 py-0.5 sm:px-3 sm:py-1 rounded-full border border-gray-200/50">travel</span>
                                </div>
                            </div>
                            <p class="text-gray-700 diary-font text-xs sm:text-sm leading-relaxed mb-2 sm:mb-3">Spent the weekend exploring the city with friends. We discovered a new art gallery and had an amazing dinner at a local restaurant. These spontaneous adventures always remind me...</p>
                            <div class="flex justify-end">
                                <a href="#" class="text-blue-600 text-xs sm:text-sm hover:text-blue-700 font-medium flex items-center gap-1 bg-blue-50 px-2 sm:px-3 py-1 rounded-full hover:bg-blue-100 transition-all">
                                    <span>Read more</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Biography Preview -->
        <div class="biography-preview mb-6 sm:mb-8 animate-fade-in-up animation-delay-500">
            <div class="flex justify-between items-center mb-3 sm:mb-4">
                <h3 class="text-lg sm:text-xl font-bold diary-font text-gray-800 flex items-center gap-2 sm:gap-3">
                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <span class="hidden sm:inline">Biography Preview</span>
                    <span class="sm:hidden">Biography</span>
                </h3>
                <div class="text-xs text-gray-500 bg-white/60 px-2 sm:px-3 py-1 rounded-full">Updated today</div>
            </div>

            <div class="mb-3 sm:mb-4">
                <div class="flex justify-between text-xs sm:text-sm text-gray-600 mb-2">
                    <span class="font-medium">42 entries processed</span>
                    <span class="font-medium">73% complete</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 73%"></div>
                </div>
            </div>

            <div class="bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border border-white/50">
                <div class="handwritten text-sm sm:text-base lg:text-lg text-gray-800 leading-relaxed">
                    <p>John's journey began as a curious software developer with big dreams. Through consistent journaling, he discovered patterns in his growth, celebrated small victories, and navigated challenges with increasing wisdom. His story is one of continuous learning and authentic self-discovery...</p>
                </div>
                <div class="mt-3 sm:mt-4 flex justify-end">
                    <a href="#" class="text-amber-600 hover:text-amber-700 font-medium inline-flex items-center gap-1 sm:gap-2 bg-amber-50 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full hover:bg-amber-100 transition-all text-xs sm:text-sm">
                        <span>Continue reading</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <!-- Enhanced Time Period Collection -->
        <div class="mb-6 sm:mb-8 animate-fade-in-up animation-delay-600">
            <div class="flex justify-between items-center mb-4 sm:mb-6">
                <h3 class="text-lg sm:text-xl font-semibold diary-font text-gray-800 flex items-center gap-2 sm:gap-3">
                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                    </div>
                    <span class="hidden sm:inline">Time Periods</span>
                    <span class="sm:hidden">Periods</span>
                </h3>
                <a href="#" class="text-indigo-600 hover:text-indigo-700 font-medium text-xs sm:text-sm flex items-center gap-1 sm:gap-2 bg-indigo-50 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full hover:bg-indigo-100 transition-all">
                    <span>View all</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </a>
            </div>

            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6">
                <!-- Q2 2025 -->
                <a href="#" class="block">
                    <div class="bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg sm:rounded-xl shadow-lg book">
                        <div class="book-spine"></div>
                        <div class="book-content h-full p-3 sm:p-4 flex flex-col justify-between">
                            <div>
                                <div class="text-center font-bold text-gray-800 text-xs sm:text-sm mb-1">Q2 2025</div>
                                <div class="text-xs text-center text-gray-500 mb-2 sm:mb-3">Apr - Jun</div>
                                <div class="h-12 sm:h-16 overflow-hidden">
                                    <div class="handwritten text-xs text-gray-600 leading-relaxed">
                                        Started new project at work, spring cleaning, beautiful weather for running...
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-center text-blue-600 font-medium bg-white/80 backdrop-blur-sm rounded-full py-1 px-2 sm:px-3">
                                15 entries
                            </div>
                        </div>
                    </div>
                </a>

                <!-- Q1 2025 -->
                <a href="#" class="block">
                    <div class="bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-lg sm:rounded-xl shadow-lg book">
                        <div class="book-spine"></div>
                        <div class="book-content h-full p-3 sm:p-4 flex flex-col justify-between">
                            <div>
                                <div class="text-center font-bold text-gray-800 text-xs sm:text-sm mb-1">Q1 2025</div>
                                <div class="text-xs text-center text-gray-500 mb-2 sm:mb-3">Jan - Mar</div>
                                <div class="h-12 sm:h-16 overflow-hidden">
                                    <div class="handwritten text-xs text-gray-600 leading-relaxed">
                                        New year resolutions, winter reflections, career planning sessions...
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-center text-emerald-600 font-medium bg-white/80 backdrop-blur-sm rounded-full py-1 px-2 sm:px-3">
                                18 entries
                            </div>
                        </div>
                    </div>
                </a>

                <!-- Q4 2024 -->
                <a href="#" class="block">
                    <div class="bg-gradient-to-br from-amber-400 to-amber-600 rounded-lg sm:rounded-xl shadow-lg book">
                        <div class="book-spine"></div>
                        <div class="book-content h-full p-3 sm:p-4 flex flex-col justify-between">
                            <div>
                                <div class="text-center font-bold text-gray-800 text-xs sm:text-sm mb-1">Q4 2024</div>
                                <div class="text-xs text-center text-gray-500 mb-2 sm:mb-3">Oct - Dec</div>
                                <div class="h-12 sm:h-16 overflow-hidden">
                                    <div class="handwritten text-xs text-gray-600 leading-relaxed">
                                        Holiday celebrations, year-end reviews, family gatherings...
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-center text-amber-600 font-medium bg-white/80 backdrop-blur-sm rounded-full py-1 px-2 sm:px-3">
                                9 entries
                            </div>
                        </div>
                    </div>
                </a>

                <!-- Enhanced Add New -->
                <a href="#" class="block">
                    <div class="bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg sm:rounded-xl border-2 border-dashed border-gray-300 flex items-center justify-center hover:bg-gradient-to-br hover:from-gray-50 hover:to-gray-100 hover:border-gray-400 transition-all group book">
                        <div class="text-center p-3 sm:p-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white mx-auto rounded-full flex items-center justify-center mb-2 sm:mb-3 shadow-lg group-hover:scale-110 transition-transform">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-gray-500 group-hover:text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                </svg>
                            </div>
                            <div class="text-xs sm:text-sm text-gray-600 font-medium group-hover:text-gray-800">Create New</div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <a href="#" class="floating-action" title="Create New Entry">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
        </svg>
    </a>

    <script>
        // Entry success notification check
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('entry_saved') === 'true') {
                document.getElementById('entrySuccess').classList.remove('hidden');
                // Update URL without the parameter (to avoid showing the message on refresh)
                history.replaceState(null, '', window.location.pathname);
            }

            // Initialize character counter
            countChars();

            // Add animation delays with mobile optimization
            const animatedElements = document.querySelectorAll('.animate-fade-in-up, .animate-scale-in, .animate-slide-in-right');
            animatedElements.forEach((el, index) => {
                el.style.opacity = '0';
                el.style.transform = el.classList.contains('animate-fade-in-up') ? 'translateY(20px)' :
                                  el.classList.contains('animate-scale-in') ? 'scale(0.98)' : 'translateX(20px)';

                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translate(0) scale(1)';
                    el.style.transition = 'all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1)';
                }, index * 75); // Faster stagger for mobile
            });
        });

        // Character counter for journal input
        function countChars() {
            const input = document.getElementById('journalInput');
            const count = document.getElementById('charCount');
            if (input && count) {
                count.textContent = input.value.length;
            }
        }

        // Add suggestion to the journal input
        function addSuggestion(text) {
            const input = document.getElementById('journalInput');
            if (input.value && !input.value.endsWith(' ')) {
                input.value += ' ';
            }
            input.value += text + ' ';
            input.focus();
            countChars();
        }

        // Generate journal entry based on the input
        function generateEntry() {
            const journalInput = document.getElementById('journalInput');
            const inputText = journalInput.value.trim();

            // Validate input
            if (!inputText) {
                showNotification('Please enter some notes about your day first.', 'warning');
                return;
            }

            // Show loading indicator and hide the form
            document.getElementById('dashboardJournalForm').classList.add('hidden');
            document.getElementById('loadingIndicator').classList.remove('hidden');

            // Simulate API call with faster mobile response
            const isMobile = window.innerWidth < 640;
            const delay = isMobile ? 1000 : 1500; // Faster on mobile

            setTimeout(() => {
                generateJournalContent(inputText).then(generatedText => {
                    // Hide loading and show result
                    document.getElementById('loadingIndicator').classList.add('hidden');
                    document.getElementById('resultPreview').classList.remove('hidden');

                    // Update the preview with the generated text
                    document.getElementById('journalEntry').textContent = generatedText;

                    // Set a default title based on the current date
                    const today = new Date();
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                    document.getElementById('entryTitle').textContent = "My Day - " + today.toLocaleDateString(undefined, options);
                });
            }, delay);
        }

        // API function to generate journal content
        async function generateJournalContent(input) {
            const usePersonalizedStyle = document.getElementById('personalizationToggle').checked;

            try {
                return generateSampleEntry(input, usePersonalizedStyle);
            } catch (error) {
                console.error('Error generating journal entry:', error);
                return "There was an error generating your journal entry. Please try again.";
            }
        }

        // Helper function to generate a sample entry
        function generateSampleEntry(input, usePersonalizedStyle) {
            const introductions = [
                "Dear Diary,",
                "Today was quite a day.",
                "As I reflect on today,",
                "Another day has passed, and I'm taking a moment to record my thoughts."
            ];

            const conclusions = [
                "Looking forward to what tomorrow brings.",
                "That's all for today.",
                "Until tomorrow,",
                "I'm grateful for the experiences of today."
            ];

            const intro = introductions[Math.floor(Math.random() * introductions.length)];
            const conclusion = conclusions[Math.floor(Math.random() * conclusions.length)];

            // Extract key points from the input
            const points = input.split(/[.,;]/).filter(point => point.trim().length > 0);

            // Expand each point into a sentence or two
            const expandedPoints = points.map(point => {
                const trimmed = point.trim();
                if (trimmed.toLowerCase().includes('breakfast')) {
                    return `I started my day with ${trimmed.replace('breakfast', '').trim() || 'a nice breakfast'}.`;
                } else if (trimmed.toLowerCase().includes('meeting')) {
                    return `I attended a meeting ${trimmed.includes('with') ? trimmed : 'about work matters'}. It was productive, and we covered several important topics.`;
                } else if (trimmed.toLowerCase().includes('run') || trimmed.toLowerCase().includes('exercise')) {
                    return `I made time for physical activity today - ${trimmed}. It felt great to get moving.`;
                } else if (trimmed.length > 0) {
                    return `${trimmed.charAt(0).toUpperCase() + trimmed.slice(1)}.`;
                }
                return '';
            }).filter(point => point.length > 0);

            // Style variations based on user preference
            let style = usePersonalizedStyle ?
                "I'm noticing patterns in my daily routine that bring me joy. " :
                "";

            // Combine everything into a coherent entry
            return `${intro}\n\n${expandedPoints.join(' ')}\n\n${style}${conclusion}`;
        }

        // Edit the generated journal entry
        function editJournalEntry() {
            const journalEntry = document.getElementById('journalEntry').textContent;
            const journalInput = document.getElementById('journalInput');

            // Copy the generated text back to the input for editing
            journalInput.value = journalEntry;

            // Show the form and hide the preview
            document.getElementById('dashboardJournalForm').classList.remove('hidden');
            document.getElementById('resultPreview').classList.add('hidden');

            // Update character count
            countChars();

            // Focus the input for immediate editing
            journalInput.focus();
        }

        // Restart the entry process
        function restartEntry() {
            // Clear the input and show the form
            document.getElementById('journalInput').value = '';
            document.getElementById('dashboardJournalForm').classList.remove('hidden');
            document.getElementById('resultPreview').classList.add('hidden');

            // Reset character count
            countChars();

            // Focus the input for a new entry
            document.getElementById('journalInput').focus();
        }

        // Enhanced notification system optimized for mobile
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const isMobile = window.innerWidth < 640;

            notification.className = `fixed ${isMobile ? 'top-2 left-2 right-2' : 'top-4 right-4'} p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg z-50 backdrop-blur-sm border ${
                type === 'success' ? 'bg-green-500/90 text-white border-green-400' :
                type === 'error' ? 'bg-red-500/90 text-white border-red-400' :
                type === 'warning' ? 'bg-amber-500/90 text-white border-amber-400' :
                'bg-blue-500/90 text-white border-blue-400'
            }`;

            notification.innerHTML = `
                <div class="flex items-center gap-2 sm:gap-3">
                    <div class="flex-shrink-0">
                        ${type === 'success' ?
                            '<svg class="h-4 w-4 sm:h-5 sm:w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>' :
                            type === 'error' ?
                            '<svg class="h-4 w-4 sm:h-5 sm:w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/></svg>' :
                            type === 'warning' ?
                            '<svg class="h-4 w-4 sm:h-5 sm:w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/></svg>' :
                            '<svg class="h-4 w-4 sm:h-5 sm:w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/></svg>'
                        }
                    </div>
                    <span class="font-medium text-sm sm:text-base flex-1">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="flex-shrink-0 opacity-70 hover:opacity-100">
                        <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg>
                    </button>
                </div>
            `;

            document.body.appendChild(notification);

            // Animate in
            notification.style.transform = isMobile ? 'translateY(-100%)' : 'translateX(100%)';
            notification.style.transition = 'transform 0.3s ease-out';
            setTimeout(() => {
                notification.style.transform = 'translate(0)';
            }, 10);

            // Remove after 4 seconds (shorter for mobile)
            setTimeout(() => {
                notification.style.transform = isMobile ? 'translateY(-100%)' : 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 4000);
        }

        // Enhanced keyboard shortcuts with mobile consideration
        document.addEventListener('keydown', function(e) {
            // Only add keyboard shortcuts for non-mobile devices
            if (window.innerWidth >= 640) {
                // Ctrl/Cmd + Enter to generate entry
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    const journalInput = document.getElementById('journalInput');
                    if (document.activeElement === journalInput && journalInput.value.trim()) {
                        e.preventDefault();
                        generateEntry();
                    }
                }

                // Escape to close any modals or reset form
                if (e.key === 'Escape') {
                    const resultPreview = document.getElementById('resultPreview');
                    const loadingIndicator = document.getElementById('loadingIndicator');

                    if (!resultPreview.classList.contains('hidden')) {
                        restartEntry();
                    } else if (!loadingIndicator.classList.contains('hidden')) {
                        loadingIndicator.classList.add('hidden');
                        document.getElementById('dashboardJournalForm').classList.remove('hidden');
                    }
                }
            }
        });

        // Mobile-optimized auto-save functionality
        let autoSaveTimeout;
        document.getElementById('journalInput')?.addEventListener('input', function() {
            countChars();

            // Auto-save draft (with longer timeout on mobile to reduce battery usage)
            const isMobile = window.innerWidth < 640;
            const delay = isMobile ? 2000 : 1000;

            clearTimeout(autoSaveTimeout);
            autoSaveTimeout = setTimeout(() => {
                const content = this.value.trim();
                if (content) {
                    try {
                        localStorage.setItem('diaryvault_draft', JSON.stringify({
                            content: content,
                            timestamp: Date.now(),
                            personalized: document.getElementById('personalizationToggle').checked
                        }));
                    } catch (e) {
                        // Handle localStorage quota exceeded on mobile
                        console.warn('Could not save draft:', e);
                    }
                } else {
                    localStorage.removeItem('diaryvault_draft');
                }
            }, delay);
        });

        // Load draft on page load with mobile optimization
        document.addEventListener('DOMContentLoaded', function() {
            const draft = localStorage.getItem('diaryvault_draft');
            if (draft) {
                try {
                    const draftData = JSON.parse(draft);
                    const timeDiff = Date.now() - draftData.timestamp;

                    // Only restore if draft is less than 24 hours old
                    if (timeDiff < 24 * 60 * 60 * 1000) {
                        const journalInput = document.getElementById('journalInput');
                        const personalizationToggle = document.getElementById('personalizationToggle');

                        if (journalInput && !journalInput.value.trim()) {
                            journalInput.value = draftData.content;
                            if (personalizationToggle) {
                                personalizationToggle.checked = draftData.personalized || false;
                            }
                            countChars();

                            // Show subtle notification about restored draft
                            setTimeout(() => {
                                showNotification('Draft restored from previous session', 'info');
                            }, 1000);
                        }
                    } else {
                        localStorage.removeItem('diaryvault_draft');
                    }
                } catch (e) {
                    console.warn('Could not restore draft:', e);
                    localStorage.removeItem('diaryvault_draft');
                }
            }
        });

        // Clear draft when entry is saved
        function clearDraft() {
            localStorage.removeItem('diaryvault_draft');
        }

        // Enhanced accessibility with mobile considerations
        document.addEventListener('DOMContentLoaded', function() {
            // Add ARIA labels and descriptions
            const journalInput = document.getElementById('journalInput');
            if (journalInput) {
                journalInput.setAttribute('aria-label', 'Journal entry content');
                journalInput.setAttribute('aria-describedby', 'charCount');
            }

            // Add keyboard navigation hints (desktop only)
            const generateButton = document.getElementById('generateButton');
            if (generateButton && window.innerWidth >= 640) {
                generateButton.setAttribute('title', 'Generate entry (Ctrl+Enter)');
            }

            // Improve focus management for suggestion buttons
            const suggestionButtons = document.querySelectorAll('.suggestion-pill');
            suggestionButtons.forEach(button => {
                button.setAttribute('role', 'button');
                button.setAttribute('tabindex', '0');

                // Allow Enter and Space to activate suggestion buttons
                button.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.click();
                    }
                });

                // Add touch feedback for mobile
                button.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.95)';
                });

                button.addEventListener('touchend', function() {
                    this.style.transform = 'scale(1)';
                });
            });

            // Optimize viewport for mobile devices
            const viewport = document.querySelector('meta[name="viewport"]');
            if (viewport) {
                viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
            }
        });

        // Mobile-specific optimizations
        if (window.innerWidth < 640) {
            // Reduce animation complexity on mobile for better performance
            document.addEventListener('DOMContentLoaded', function() {
                const style = document.createElement('style');
                style.textContent = `
                    @media (max-width: 639px) {
                        * {
                            animation-duration: 0.3s !important;
                            transition-duration: 0.2s !important;
                        }
                        .book:hover {
                            transform: translateY(-2px) scale(1.01) !important;
                        }
                        .glass-effect:hover {
                            transform: translateY(-1px) !important;
                        }
                    }
                `;
                document.head.appendChild(style);
            });

            // Optimize touch scrolling
            document.body.style.webkitOverflowScrolling = 'touch';
        }

        // Handle orientation changes
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                // Recalculate viewport height for mobile browsers
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }, 100);
        });

        // Enhanced analytics tracking with mobile context
        function trackEvent(action, category = 'Dashboard', label = '') {
            const isMobile = window.innerWidth < 640;
            console.log('Analytics Event:', {
                action,
                category,
                label,
                device: isMobile ? 'mobile' : 'desktop',
                timestamp: new Date().toISOString()
            });

            if (action === 'generate_entry') {
                const content = document.getElementById('journalInput').value;
                const wordCount = content.split(/\s+/).filter(word => word.length > 0).length;
                console.log('Entry generation attempt:', {
                    wordCount,
                    personalized: document.getElementById('personalizationToggle').checked,
                    device: isMobile ? 'mobile' : 'desktop'
                });
            }
        }

        // Add event tracking to key actions
        document.getElementById('generateButton')?.addEventListener('click', function() {
            trackEvent('generate_entry', 'Journal', 'dashboard');
        });

        document.querySelectorAll('.suggestion-pill').forEach(pill => {
            pill.addEventListener('click', function() {
                trackEvent('use_suggestion', 'Journal', this.textContent.trim());
            });
        });

        // Track floating action button usage
        document.querySelector('.floating-action')?.addEventListener('click', function() {
            trackEvent('floating_action_click', 'Navigation', 'new_entry');
        });
    </script>
</body>
</html>
